
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../publishPacket/">
      
      
        <link rel="next" href="../../mqtt-router/router/">
      
      
      <link rel="icon" href="../../../assets/logo.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.3">
    
    
      
        <title>publisher.pony - mqtt</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0e669242.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/ponylang.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="ponylang" data-md-color-primary="brown" data-md-color-accent="amber">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="mqtt" class="md-header__button md-logo" aria-label="mqtt" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            mqtt
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              publisher.pony
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="mqtt" class="md-nav__button md-logo" aria-label="mqtt" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    mqtt
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../../index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mqtt
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            package mqtt
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-Main/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Main
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/assembler
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/assembler
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-assembler--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-assembler-Assembler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Assembler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-assembler-Stream/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type Stream
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/configurator
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/configurator
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-ConfigFile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConfigFile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-DefaultBroker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive DefaultBroker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-FullConfigParams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive FullConfigParams
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniAddress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniAddress
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniCleansession/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniCleansession
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniId/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniId
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniKeepalive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniKeepalive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniMessage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniMessage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniName/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniName
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniPassword/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniPassword
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniPort/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniPort
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniQos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniQos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniReader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class IniReader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniSectionBroker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniSectionBroker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniSectionClient/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniSectionClient
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniSectionCredentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniSectionCredentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniSectionSubscriptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniSectionSubscriptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniSectionWill/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniSectionWill
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IniTopic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IniTopic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-IsValidQos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IsValidQos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-MinConfigParams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive MinConfigParams
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-MqttConfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class MqttConfig
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-QosPrefix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive QosPrefix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-configurator-SupportedQos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive SupportedQos
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/connector
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/connector
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnAckAccepted/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnAckAccepted
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnAckPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class ConnAckPacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnAckRefusedBadUserNameOrPassword/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnAckRefusedBadUserNameOrPassword
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnAckRefusedIdentifierRejected/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnAckRefusedIdentifierRejected
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnAckRefusedNotAuthorised/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnAckRefusedNotAuthorised
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnAckRefusedProtocolVersion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnAckRefusedProtocolVersion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnAckRefusedServerUnavailable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnAckRefusedServerUnavailable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnAckReturnCode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type ConnAckReturnCode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnectClean/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnectClean
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnectFlags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type ConnectFlags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnectPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class ConnectPacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnectPassword/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnectPassword
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnectQMask/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnectQMask
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnectUserName/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnectUserName
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnectWQos0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnectWQos0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnectWQos1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnectWQos1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnectWQos2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnectWQos2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnectWRetain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnectWRetain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-ConnectWill/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnectWill
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-Connector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Connector
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-DefaultConnectFlags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive DefaultConnectFlags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-DisconnectPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class DisconnectPacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-RejectionCode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive RejectionCode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-connector-RestoreConnectFlags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive RestoreConnectFlags
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/idIssuer
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/idIssuer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-idIssuer--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-idIssuer-IdIssuer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class IdIssuer
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/mqtt
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/mqtt
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-mqtt--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-mqtt-Mqtt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Mqtt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-mqtt-MqttApplication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    trait MqttApplication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-mqtt-MqttService/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    trait MqttService
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/network
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/network
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-network--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-network-Client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class Client
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-network-OsNetwork/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor OsNetwork
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/pinger
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/pinger
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-pinger--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-pinger-Ping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class Ping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-pinger-PingReqPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class PingReqPacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-pinger-Pinger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Pinger
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/primitives
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/primitives
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ArrayVal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type ArrayVal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-BrokerDisconnect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive BrokerDisconnect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-CPFlags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive CPFlags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-CPNoFlags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type CPNoFlags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-CPWithFlags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type CPWithFlags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-CleanSessionRequired/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive CleanSessionRequired
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Clear/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Clear
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Command/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type Command
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ConfigurationError/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConfigurationError
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Connect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Connect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ConnectionClosed/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnectionClosed
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ConnectionRefused/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ConnectionRefused
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlArrayVal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type ControlArrayVal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlConnAck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlConnAck
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlConnect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlConnect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlDisconnect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlDisconnect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlPingReq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlPingReq
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlPingResp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlPingResp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlPubAck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlPubAck
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlPubComp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlPubComp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlPubRec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlPubRec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlPubRel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlPubRel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlPublish/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlPublish
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlSubAck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlSubAck
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlSubscribe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlSubscribe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlUnsubAck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlUnsubAck
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ControlUnsubscribe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ControlUnsubscribe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-DecodeErr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive DecodeErr
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Discon/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Discon
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ErrorCode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type ErrorCode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ForbiddenCode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ForbiddenCode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ForbiddenFlags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ForbiddenFlags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ForbiddenQos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ForbiddenQos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ForbiddenType/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ForbiddenType
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ForbiddenWillQos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ForbiddenWillQos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-IdType/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type IdType
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-InvalidControl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive InvalidControl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-InvalidFlags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive InvalidFlags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-InvalidRemainingLength/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive InvalidRemainingLength
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-InvalidType/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive InvalidType
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-KeyDisplay/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive KeyDisplay
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-KeyIssuer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive KeyIssuer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-KeyNetwork/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive KeyNetwork
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-KeyPerf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive KeyPerf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-KeyPersistor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive KeyPersistor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-KeyPinger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive KeyPinger
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-KeyRouter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive KeyRouter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-KeySpawner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive KeySpawner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-KeyTicker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive KeyTicker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-LoadTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive LoadTest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-MQTTPublishFlags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type MQTTPublishFlags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-MalformedRequest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive MalformedRequest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-MalformedResponse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive MalformedResponse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-MqActor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    trait MqActor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Mute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Mute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-NoError/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive NoError
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-NotConnected/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive NotConnected
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-NotImplemented/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive NotImplemented
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Packet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    trait Packet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-PacketIdentifierType/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type PacketIdentifierType
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-PacketNoIdentifierType/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type PacketNoIdentifierType
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-PacketWithTopicType/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type PacketWithTopicType
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-PublishArgs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class PublishArgs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-PublishDUP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive PublishDUP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-PublishQos0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive PublishQos0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-PublishQos1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive PublishQos1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-PublishQos2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive PublishQos2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-PublishRetain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive PublishRetain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Qos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type Qos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Qos0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Qos0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Qos1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Qos1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Qos2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Qos2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Quit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Quit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-ReconnectFailed/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ReconnectFailed
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Service
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-SocketError/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive SocketError
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-Sub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Sub
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-SubControl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type SubControl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-SubscribeFailed/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive SubscribeFailed
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-SubscribeStats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive SubscribeStats
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-SubscribeTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive SubscribeTest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-TestInterval/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive TestInterval
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-TestLength/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive TestLength
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-TestPrefix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive TestPrefix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-TestTopic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive TestTopic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-UnSub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive UnSub
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-UnSubscribe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive UnSubscribe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-primitives-UnknownError/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive UnknownError
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/publisher
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/publisher
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-publisher--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-publisher-FlagsToQos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive FlagsToQos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-publisher-IsDup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IsDup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-publisher-IsRetain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IsRetain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-publisher-PubAckPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class PubAckPacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-publisher-PubCompPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class PubCompPacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-publisher-PubRecPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class PubRecPacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-publisher-PubRelPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class PubRelPacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-publisher-PublishPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class PublishPacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-publisher-Publisher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Publisher
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-publisher-QosToFlags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive QosToFlags
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/router
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/router
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-router--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-router-Router/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Router
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/services
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-services--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-services-Rtt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Rtt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/subscriber
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/subscriber
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-subscriber--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-subscriber-SubAckFailure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive SubAckFailure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-subscriber-SubAckPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class SubAckPacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-subscriber-SubAckSuccessMaxQos0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive SubAckSuccessMaxQos0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-subscriber-SubAckSuccessMaxQos1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive SubAckSuccessMaxQos1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-subscriber-SubAckSuccessMaxQos2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive SubAckSuccessMaxQos2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-subscriber-SubackReturnCode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type SubackReturnCode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-subscriber-SubscribePacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class SubscribePacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-subscriber-Subscriber/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Subscriber
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-subscriber-UnsubscribePacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class UnsubscribePacket
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/terminal
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/terminal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-Areas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type Areas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-BoxLine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class BoxLine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-CMD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive CMD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-Display/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Display
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-DisplayColour/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive DisplayColour
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-FRM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive FRM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-Handler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class Handler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-HighlightPeriod/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive HighlightPeriod
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-KbdInput/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class KbdInput
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-MSG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive MSG
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-Main/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Main
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-STS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive STS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-StatusLine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class StatusLine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-Terminal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor Terminal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-UIManager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    actor UIManager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-terminal-UiNotify/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class UiNotify
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    package mqtt/utilities
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            package mqtt/utilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities--index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-BasePacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class BasePacket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-BytesToU16/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive BytesToU16
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-BytesToValue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive BytesToValue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-DateString/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive DateString
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-Dump/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Dump
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-DumpBin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive DumpBin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-FixedHeader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class FixedHeader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-FixedHeaderLength/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive FixedHeaderLength
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-FmtBin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive FmtBin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-FmtDec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive FmtDec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-FmtHex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive FmtHex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-GoodPkt1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive GoodPkt1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-GoodPkt2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive GoodPkt2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-GoodPkt3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive GoodPkt3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-GoodPkt4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive GoodPkt4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-GoodPkt5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive GoodPkt5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-GoodPkt6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive GoodPkt6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-IsFixedHeader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive IsFixedHeader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-MqString/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive MqString
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-MqTime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class MqTime
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-RlByteCount/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive RlByteCount
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-Split/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive Split
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-ToQos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ToQos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-ToQosBits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ToQosBits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-TotalLength/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive TotalLength
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-U16ToBytes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive U16ToBytes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-U8ToQos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive U8ToQos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../mqtt-utilities-ValueToRLBytes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    primitive ValueToRLBytes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_17" checked>
        
          <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    source
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_17">
            <span class="md-nav__icon md-icon"></span>
            source
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt/main/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    main.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-assembler/assembler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    assembler.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-assembler/tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tests.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-configurator/iniStrings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    iniStrings.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-configurator/mqttConfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mqttConfig.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-connector/ConnAckCodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ConnAckCodes.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-connector/conAckPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    conAckPacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-connector/connectCodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    connectCodes.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-connector/connectPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    connectPacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-connector/connector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    connector.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-connector/disconnectPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    disconnectPacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-idIssuer/idIssuer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    idIssuer.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-mqtt/mqtt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mqtt.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-network/client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    client.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-network/osNetwork/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    osNetwork.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-pinger/pinger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pinger.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-pinger/pingReqPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pingReqPacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-primitives/typeDefs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    typeDefs.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-primitives/errorCodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    errorCodes.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-primitives/controlBytes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    controlBytes.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-primitives/commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    commands.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-primitives/regStrings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    regStrings.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-primitives/pubFlags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pubFlags.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-primitives/publishArgs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    publishArgs.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../flagFunctions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    flagFunctions.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../pubAckPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pubAckPacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../pubCompPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pubCompPacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../pubRecPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pubRecPacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../pubRelPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pubRelPacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../publishPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    publishPacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    publisher.pony
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-router/router/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    router.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-services/rtt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rtt.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-subscriber/subAckCodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    subAckCodes.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-subscriber/subAckPacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    subAckPacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-subscriber/subscribePacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    subscribePacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-subscriber/subscriber/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    subscriber.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-subscriber/unsubscribePacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    unsubscribePacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-terminal/display/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    display.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-terminal/colours/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    colours.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-terminal/handler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    handler.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-terminal/main/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    main.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-terminal/terminal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    terminal.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-terminal/uistamper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    uistamper.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-utilities/basePacket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    basePacket.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-utilities/functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    functions.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-utilities/timestamps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    timestamps.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-utilities/formaters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    formaters.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-utilities/fixedHeader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fixedHeader.pony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mqtt-utilities/testPackets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    testPackets.pony
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>publisher.pony</h1>

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#L-0-1">  1</a></span>
<span class="normal"><a href="#L-0-2">  2</a></span>
<span class="normal"><a href="#L-0-3">  3</a></span>
<span class="normal"><a href="#L-0-4">  4</a></span>
<span class="normal"><a href="#L-0-5">  5</a></span>
<span class="normal"><a href="#L-0-6">  6</a></span>
<span class="normal"><a href="#L-0-7">  7</a></span>
<span class="normal"><a href="#L-0-8">  8</a></span>
<span class="normal"><a href="#L-0-9">  9</a></span>
<span class="normal"><a href="#L-0-10"> 10</a></span>
<span class="normal"><a href="#L-0-11"> 11</a></span>
<span class="normal"><a href="#L-0-12"> 12</a></span>
<span class="normal"><a href="#L-0-13"> 13</a></span>
<span class="normal"><a href="#L-0-14"> 14</a></span>
<span class="normal"><a href="#L-0-15"> 15</a></span>
<span class="normal"><a href="#L-0-16"> 16</a></span>
<span class="normal"><a href="#L-0-17"> 17</a></span>
<span class="normal"><a href="#L-0-18"> 18</a></span>
<span class="normal"><a href="#L-0-19"> 19</a></span>
<span class="normal"><a href="#L-0-20"> 20</a></span>
<span class="normal"><a href="#L-0-21"> 21</a></span>
<span class="normal"><a href="#L-0-22"> 22</a></span>
<span class="normal"><a href="#L-0-23"> 23</a></span>
<span class="normal"><a href="#L-0-24"> 24</a></span>
<span class="normal"><a href="#L-0-25"> 25</a></span>
<span class="normal"><a href="#L-0-26"> 26</a></span>
<span class="normal"><a href="#L-0-27"> 27</a></span>
<span class="normal"><a href="#L-0-28"> 28</a></span>
<span class="normal"><a href="#L-0-29"> 29</a></span>
<span class="normal"><a href="#L-0-30"> 30</a></span>
<span class="normal"><a href="#L-0-31"> 31</a></span>
<span class="normal"><a href="#L-0-32"> 32</a></span>
<span class="normal"><a href="#L-0-33"> 33</a></span>
<span class="normal"><a href="#L-0-34"> 34</a></span>
<span class="normal"><a href="#L-0-35"> 35</a></span>
<span class="normal"><a href="#L-0-36"> 36</a></span>
<span class="normal"><a href="#L-0-37"> 37</a></span>
<span class="normal"><a href="#L-0-38"> 38</a></span>
<span class="normal"><a href="#L-0-39"> 39</a></span>
<span class="normal"><a href="#L-0-40"> 40</a></span>
<span class="normal"><a href="#L-0-41"> 41</a></span>
<span class="normal"><a href="#L-0-42"> 42</a></span>
<span class="normal"><a href="#L-0-43"> 43</a></span>
<span class="normal"><a href="#L-0-44"> 44</a></span>
<span class="normal"><a href="#L-0-45"> 45</a></span>
<span class="normal"><a href="#L-0-46"> 46</a></span>
<span class="normal"><a href="#L-0-47"> 47</a></span>
<span class="normal"><a href="#L-0-48"> 48</a></span>
<span class="normal"><a href="#L-0-49"> 49</a></span>
<span class="normal"><a href="#L-0-50"> 50</a></span>
<span class="normal"><a href="#L-0-51"> 51</a></span>
<span class="normal"><a href="#L-0-52"> 52</a></span>
<span class="normal"><a href="#L-0-53"> 53</a></span>
<span class="normal"><a href="#L-0-54"> 54</a></span>
<span class="normal"><a href="#L-0-55"> 55</a></span>
<span class="normal"><a href="#L-0-56"> 56</a></span>
<span class="normal"><a href="#L-0-57"> 57</a></span>
<span class="normal"><a href="#L-0-58"> 58</a></span>
<span class="normal"><a href="#L-0-59"> 59</a></span>
<span class="normal"><a href="#L-0-60"> 60</a></span>
<span class="normal"><a href="#L-0-61"> 61</a></span>
<span class="normal"><a href="#L-0-62"> 62</a></span>
<span class="normal"><a href="#L-0-63"> 63</a></span>
<span class="normal"><a href="#L-0-64"> 64</a></span>
<span class="normal"><a href="#L-0-65"> 65</a></span>
<span class="normal"><a href="#L-0-66"> 66</a></span>
<span class="normal"><a href="#L-0-67"> 67</a></span>
<span class="normal"><a href="#L-0-68"> 68</a></span>
<span class="normal"><a href="#L-0-69"> 69</a></span>
<span class="normal"><a href="#L-0-70"> 70</a></span>
<span class="normal"><a href="#L-0-71"> 71</a></span>
<span class="normal"><a href="#L-0-72"> 72</a></span>
<span class="normal"><a href="#L-0-73"> 73</a></span>
<span class="normal"><a href="#L-0-74"> 74</a></span>
<span class="normal"><a href="#L-0-75"> 75</a></span>
<span class="normal"><a href="#L-0-76"> 76</a></span>
<span class="normal"><a href="#L-0-77"> 77</a></span>
<span class="normal"><a href="#L-0-78"> 78</a></span>
<span class="normal"><a href="#L-0-79"> 79</a></span>
<span class="normal"><a href="#L-0-80"> 80</a></span>
<span class="normal"><a href="#L-0-81"> 81</a></span>
<span class="normal"><a href="#L-0-82"> 82</a></span>
<span class="normal"><a href="#L-0-83"> 83</a></span>
<span class="normal"><a href="#L-0-84"> 84</a></span>
<span class="normal"><a href="#L-0-85"> 85</a></span>
<span class="normal"><a href="#L-0-86"> 86</a></span>
<span class="normal"><a href="#L-0-87"> 87</a></span>
<span class="normal"><a href="#L-0-88"> 88</a></span>
<span class="normal"><a href="#L-0-89"> 89</a></span>
<span class="normal"><a href="#L-0-90"> 90</a></span>
<span class="normal"><a href="#L-0-91"> 91</a></span>
<span class="normal"><a href="#L-0-92"> 92</a></span>
<span class="normal"><a href="#L-0-93"> 93</a></span>
<span class="normal"><a href="#L-0-94"> 94</a></span>
<span class="normal"><a href="#L-0-95"> 95</a></span>
<span class="normal"><a href="#L-0-96"> 96</a></span>
<span class="normal"><a href="#L-0-97"> 97</a></span>
<span class="normal"><a href="#L-0-98"> 98</a></span>
<span class="normal"><a href="#L-0-99"> 99</a></span>
<span class="normal"><a href="#L-0-100">100</a></span>
<span class="normal"><a href="#L-0-101">101</a></span>
<span class="normal"><a href="#L-0-102">102</a></span>
<span class="normal"><a href="#L-0-103">103</a></span>
<span class="normal"><a href="#L-0-104">104</a></span>
<span class="normal"><a href="#L-0-105">105</a></span>
<span class="normal"><a href="#L-0-106">106</a></span>
<span class="normal"><a href="#L-0-107">107</a></span>
<span class="normal"><a href="#L-0-108">108</a></span>
<span class="normal"><a href="#L-0-109">109</a></span>
<span class="normal"><a href="#L-0-110">110</a></span>
<span class="normal"><a href="#L-0-111">111</a></span>
<span class="normal"><a href="#L-0-112">112</a></span>
<span class="normal"><a href="#L-0-113">113</a></span>
<span class="normal"><a href="#L-0-114">114</a></span>
<span class="normal"><a href="#L-0-115">115</a></span>
<span class="normal"><a href="#L-0-116">116</a></span>
<span class="normal"><a href="#L-0-117">117</a></span>
<span class="normal"><a href="#L-0-118">118</a></span>
<span class="normal"><a href="#L-0-119">119</a></span>
<span class="normal"><a href="#L-0-120">120</a></span>
<span class="normal"><a href="#L-0-121">121</a></span>
<span class="normal"><a href="#L-0-122">122</a></span>
<span class="normal"><a href="#L-0-123">123</a></span>
<span class="normal"><a href="#L-0-124">124</a></span>
<span class="normal"><a href="#L-0-125">125</a></span>
<span class="normal"><a href="#L-0-126">126</a></span>
<span class="normal"><a href="#L-0-127">127</a></span>
<span class="normal"><a href="#L-0-128">128</a></span>
<span class="normal"><a href="#L-0-129">129</a></span>
<span class="normal"><a href="#L-0-130">130</a></span>
<span class="normal"><a href="#L-0-131">131</a></span>
<span class="normal"><a href="#L-0-132">132</a></span>
<span class="normal"><a href="#L-0-133">133</a></span>
<span class="normal"><a href="#L-0-134">134</a></span>
<span class="normal"><a href="#L-0-135">135</a></span>
<span class="normal"><a href="#L-0-136">136</a></span>
<span class="normal"><a href="#L-0-137">137</a></span>
<span class="normal"><a href="#L-0-138">138</a></span>
<span class="normal"><a href="#L-0-139">139</a></span>
<span class="normal"><a href="#L-0-140">140</a></span>
<span class="normal"><a href="#L-0-141">141</a></span>
<span class="normal"><a href="#L-0-142">142</a></span>
<span class="normal"><a href="#L-0-143">143</a></span>
<span class="normal"><a href="#L-0-144">144</a></span>
<span class="normal"><a href="#L-0-145">145</a></span>
<span class="normal"><a href="#L-0-146">146</a></span>
<span class="normal"><a href="#L-0-147">147</a></span>
<span class="normal"><a href="#L-0-148">148</a></span>
<span class="normal"><a href="#L-0-149">149</a></span>
<span class="normal"><a href="#L-0-150">150</a></span>
<span class="normal"><a href="#L-0-151">151</a></span>
<span class="normal"><a href="#L-0-152">152</a></span>
<span class="normal"><a href="#L-0-153">153</a></span>
<span class="normal"><a href="#L-0-154">154</a></span>
<span class="normal"><a href="#L-0-155">155</a></span>
<span class="normal"><a href="#L-0-156">156</a></span>
<span class="normal"><a href="#L-0-157">157</a></span>
<span class="normal"><a href="#L-0-158">158</a></span>
<span class="normal"><a href="#L-0-159">159</a></span>
<span class="normal"><a href="#L-0-160">160</a></span>
<span class="normal"><a href="#L-0-161">161</a></span>
<span class="normal"><a href="#L-0-162">162</a></span>
<span class="normal"><a href="#L-0-163">163</a></span>
<span class="normal"><a href="#L-0-164">164</a></span>
<span class="normal"><a href="#L-0-165">165</a></span>
<span class="normal"><a href="#L-0-166">166</a></span>
<span class="normal"><a href="#L-0-167">167</a></span>
<span class="normal"><a href="#L-0-168">168</a></span>
<span class="normal"><a href="#L-0-169">169</a></span>
<span class="normal"><a href="#L-0-170">170</a></span>
<span class="normal"><a href="#L-0-171">171</a></span>
<span class="normal"><a href="#L-0-172">172</a></span>
<span class="normal"><a href="#L-0-173">173</a></span>
<span class="normal"><a href="#L-0-174">174</a></span>
<span class="normal"><a href="#L-0-175">175</a></span>
<span class="normal"><a href="#L-0-176">176</a></span>
<span class="normal"><a href="#L-0-177">177</a></span>
<span class="normal"><a href="#L-0-178">178</a></span>
<span class="normal"><a href="#L-0-179">179</a></span>
<span class="normal"><a href="#L-0-180">180</a></span>
<span class="normal"><a href="#L-0-181">181</a></span>
<span class="normal"><a href="#L-0-182">182</a></span>
<span class="normal"><a href="#L-0-183">183</a></span>
<span class="normal"><a href="#L-0-184">184</a></span>
<span class="normal"><a href="#L-0-185">185</a></span>
<span class="normal"><a href="#L-0-186">186</a></span>
<span class="normal"><a href="#L-0-187">187</a></span>
<span class="normal"><a href="#L-0-188">188</a></span>
<span class="normal"><a href="#L-0-189">189</a></span>
<span class="normal"><a href="#L-0-190">190</a></span>
<span class="normal"><a href="#L-0-191">191</a></span>
<span class="normal"><a href="#L-0-192">192</a></span>
<span class="normal"><a href="#L-0-193">193</a></span>
<span class="normal"><a href="#L-0-194">194</a></span>
<span class="normal"><a href="#L-0-195">195</a></span>
<span class="normal"><a href="#L-0-196">196</a></span>
<span class="normal"><a href="#L-0-197">197</a></span>
<span class="normal"><a href="#L-0-198">198</a></span>
<span class="normal"><a href="#L-0-199">199</a></span>
<span class="normal"><a href="#L-0-200">200</a></span>
<span class="normal"><a href="#L-0-201">201</a></span>
<span class="normal"><a href="#L-0-202">202</a></span>
<span class="normal"><a href="#L-0-203">203</a></span>
<span class="normal"><a href="#L-0-204">204</a></span>
<span class="normal"><a href="#L-0-205">205</a></span>
<span class="normal"><a href="#L-0-206">206</a></span>
<span class="normal"><a href="#L-0-207">207</a></span>
<span class="normal"><a href="#L-0-208">208</a></span>
<span class="normal"><a href="#L-0-209">209</a></span>
<span class="normal"><a href="#L-0-210">210</a></span>
<span class="normal"><a href="#L-0-211">211</a></span>
<span class="normal"><a href="#L-0-212">212</a></span>
<span class="normal"><a href="#L-0-213">213</a></span>
<span class="normal"><a href="#L-0-214">214</a></span>
<span class="normal"><a href="#L-0-215">215</a></span>
<span class="normal"><a href="#L-0-216">216</a></span>
<span class="normal"><a href="#L-0-217">217</a></span>
<span class="normal"><a href="#L-0-218">218</a></span>
<span class="normal"><a href="#L-0-219">219</a></span>
<span class="normal"><a href="#L-0-220">220</a></span>
<span class="normal"><a href="#L-0-221">221</a></span>
<span class="normal"><a href="#L-0-222">222</a></span>
<span class="normal"><a href="#L-0-223">223</a></span>
<span class="normal"><a href="#L-0-224">224</a></span>
<span class="normal"><a href="#L-0-225">225</a></span>
<span class="normal"><a href="#L-0-226">226</a></span>
<span class="normal"><a href="#L-0-227">227</a></span>
<span class="normal"><a href="#L-0-228">228</a></span>
<span class="normal"><a href="#L-0-229">229</a></span>
<span class="normal"><a href="#L-0-230">230</a></span>
<span class="normal"><a href="#L-0-231">231</a></span>
<span class="normal"><a href="#L-0-232">232</a></span>
<span class="normal"><a href="#L-0-233">233</a></span>
<span class="normal"><a href="#L-0-234">234</a></span>
<span class="normal"><a href="#L-0-235">235</a></span>
<span class="normal"><a href="#L-0-236">236</a></span>
<span class="normal"><a href="#L-0-237">237</a></span>
<span class="normal"><a href="#L-0-238">238</a></span>
<span class="normal"><a href="#L-0-239">239</a></span>
<span class="normal"><a href="#L-0-240">240</a></span>
<span class="normal"><a href="#L-0-241">241</a></span>
<span class="normal"><a href="#L-0-242">242</a></span>
<span class="normal"><a href="#L-0-243">243</a></span>
<span class="normal"><a href="#L-0-244">244</a></span>
<span class="normal"><a href="#L-0-245">245</a></span>
<span class="normal"><a href="#L-0-246">246</a></span>
<span class="normal"><a href="#L-0-247">247</a></span>
<span class="normal"><a href="#L-0-248">248</a></span>
<span class="normal"><a href="#L-0-249">249</a></span>
<span class="normal"><a href="#L-0-250">250</a></span>
<span class="normal"><a href="#L-0-251">251</a></span>
<span class="normal"><a href="#L-0-252">252</a></span>
<span class="normal"><a href="#L-0-253">253</a></span>
<span class="normal"><a href="#L-0-254">254</a></span>
<span class="normal"><a href="#L-0-255">255</a></span>
<span class="normal"><a href="#L-0-256">256</a></span>
<span class="normal"><a href="#L-0-257">257</a></span>
<span class="normal"><a href="#L-0-258">258</a></span>
<span class="normal"><a href="#L-0-259">259</a></span>
<span class="normal"><a href="#L-0-260">260</a></span>
<span class="normal"><a href="#L-0-261">261</a></span>
<span class="normal"><a href="#L-0-262">262</a></span>
<span class="normal"><a href="#L-0-263">263</a></span>
<span class="normal"><a href="#L-0-264">264</a></span>
<span class="normal"><a href="#L-0-265">265</a></span>
<span class="normal"><a href="#L-0-266">266</a></span>
<span class="normal"><a href="#L-0-267">267</a></span>
<span class="normal"><a href="#L-0-268">268</a></span>
<span class="normal"><a href="#L-0-269">269</a></span>
<span class="normal"><a href="#L-0-270">270</a></span>
<span class="normal"><a href="#L-0-271">271</a></span>
<span class="normal"><a href="#L-0-272">272</a></span>
<span class="normal"><a href="#L-0-273">273</a></span>
<span class="normal"><a href="#L-0-274">274</a></span>
<span class="normal"><a href="#L-0-275">275</a></span>
<span class="normal"><a href="#L-0-276">276</a></span>
<span class="normal"><a href="#L-0-277">277</a></span>
<span class="normal"><a href="#L-0-278">278</a></span>
<span class="normal"><a href="#L-0-279">279</a></span>
<span class="normal"><a href="#L-0-280">280</a></span>
<span class="normal"><a href="#L-0-281">281</a></span>
<span class="normal"><a href="#L-0-282">282</a></span>
<span class="normal"><a href="#L-0-283">283</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="L-0-1" name="L-0-1"></a><span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-2" name="L-0-2"></a><span class="sd">The actor and classes needed to publish messages to the broker and handle the QoS 1 and QoS 2 handshakes. </span>
<a id="L-0-3" name="L-0-3"></a><span class="sd">Publish messages have their own set of flags so these are included here as well.</span>
<a id="L-0-4" name="L-0-4"></a><span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-5" name="L-0-5"></a>
<a id="L-0-6" name="L-0-6"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-7" name="L-0-7"></a>  <span class="k">use</span> <span class="s">&quot;debug&quot;</span>
<a id="L-0-8" name="L-0-8"></a>  <span class="k">use</span> <span class="s">&quot;bureaucracy&quot;</span>
<a id="L-0-9" name="L-0-9"></a>  <span class="k">use</span> <span class="s">&quot;collections&quot;</span>
<a id="L-0-10" name="L-0-10"></a>
<a id="L-0-11" name="L-0-11"></a>  <span class="k">use</span> <span class="s">&quot;..&quot;</span>
<a id="L-0-12" name="L-0-12"></a>  <span class="k">use</span> <span class="s">&quot;package:../primitives&quot;</span>
<a id="L-0-13" name="L-0-13"></a>  <span class="k">use</span> <span class="s">&quot;package:../router&quot;</span>
<a id="L-0-14" name="L-0-14"></a>  <span class="k">use</span> <span class="s">&quot;package:../utilities&quot;</span>
<a id="L-0-15" name="L-0-15"></a>
<a id="L-0-16" name="L-0-16"></a><span class="k">actor</span> <span class="nc">Publisher</span> <span class="ow">is</span> <span class="n n-Type">MqActor</span>
<a id="L-0-17" name="L-0-17"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-18" name="L-0-18"></a><span class="sd">  Represents an application level publication topic. Provides a public Publish topic</span>
<a id="L-0-19" name="L-0-19"></a><span class="sd">  that:</span>
<a id="L-0-20" name="L-0-20"></a><span class="sd">  1. takes the payload and qos</span>
<a id="L-0-21" name="L-0-21"></a><span class="sd">  1. passes these arguments to router</span>
<a id="L-0-22" name="L-0-22"></a>
<a id="L-0-23" name="L-0-23"></a><span class="sd">  Publisher is responsible for managing its in-flight window. For 3.1.1 we will keep this</span>
<a id="L-0-24" name="L-0-24"></a><span class="sd">  to one packet for now but with a view to parameterizing this for MQTT 5 compliance.</span>
<a id="L-0-25" name="L-0-25"></a>
<a id="L-0-26" name="L-0-26"></a><span class="sd">  To manage the in-flight window we only allow n messages to be pending ack and queue any</span>
<a id="L-0-27" name="L-0-27"></a><span class="sd">  that arrive before the ack arrives. For 3.1.1 compliance we only need to do this for QoS 1.</span>
<a id="L-0-28" name="L-0-28"></a>
<a id="L-0-29" name="L-0-29"></a><span class="sd">  TODO - The classes for the Pub ack types are virtually identical and could all be </span>
<a id="L-0-30" name="L-0-30"></a><span class="sd">  replaced by a factory class once we have all the functions coded</span>
<a id="L-0-31" name="L-0-31"></a>
<a id="L-0-32" name="L-0-32"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-33" name="L-0-33"></a>  <span class="k">let</span> <span class="n">_router</span> <span class="p">:</span> <span class="n n-Type">Router</span>
<a id="L-0-34" name="L-0-34"></a>  <span class="k">let</span> <span class="n">_topic</span> <span class="p">:</span> <span class="nb nb-Type">String</span> <span class="k">val</span>
<a id="L-0-35" name="L-0-35"></a>  <span class="k">let</span> <span class="n">_publisher</span> <span class="p">:</span> <span class="n n-Type">Publisher</span> <span class="k">tag</span> <span class="o">=</span> <span class="k">this</span> 
<a id="L-0-36" name="L-0-36"></a>  <span class="k">let</span> <span class="n">_inFlightWindow</span> <span class="p">:</span> <span class="nb nb-Type">USize</span> <span class="o">=</span> <span class="mi">1</span>  
<a id="L-0-37" name="L-0-37"></a>
<a id="L-0-38" name="L-0-38"></a>  <span class="k">var</span> <span class="n">_qos1Map</span> <span class="p">:</span> <span class="n n-Type">Map</span><span class="p">[</span><span class="n n-Type">IdType</span><span class="p">,</span> <span class="n n-Type">PublishArgs</span> <span class="k">val</span><span class="p">]</span>
<a id="L-0-39" name="L-0-39"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-40" name="L-0-40"></a><span class="sd">  A map for storing our in-flight QoS 1 messages. We keep these separate from</span>
<a id="L-0-41" name="L-0-41"></a><span class="sd">  QoS 2 messages because we use the size of this map to track the number of</span>
<a id="L-0-42" name="L-0-42"></a><span class="sd">  QoS 1 message we have in-flight. </span>
<a id="L-0-43" name="L-0-43"></a><span class="sd">  &quot;&quot;&quot;</span> 
<a id="L-0-44" name="L-0-44"></a>
<a id="L-0-45" name="L-0-45"></a>  <span class="k">var</span> <span class="n">_pending</span> <span class="p">:</span> <span class="nb nb-Type">Array</span><span class="p">[</span><span class="n n-Type">PublishArgs</span> <span class="k">val</span><span class="p">]</span> 
<a id="L-0-46" name="L-0-46"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-47" name="L-0-47"></a><span class="sd">  We store any QoS1 messages in the _pending array if we have already reached our </span>
<a id="L-0-48" name="L-0-48"></a><span class="sd">  in-flight limit. We use an array here to get fifo behaviour using push (to back)</span>
<a id="L-0-49" name="L-0-49"></a><span class="sd">  and shift (from front)</span>
<a id="L-0-50" name="L-0-50"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-51" name="L-0-51"></a>
<a id="L-0-52" name="L-0-52"></a>  <span class="k">var</span> <span class="n">_qos2Map</span> <span class="p">:</span> <span class="n n-Type">Map</span><span class="p">[</span><span class="n n-Type">IdType</span><span class="p">,</span> <span class="n n-Type">PublishArgs</span> <span class="k">val</span><span class="p">]</span>
<a id="L-0-53" name="L-0-53"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-54" name="L-0-54"></a><span class="sd">  A map for the in-flight QoS 2 messages. </span>
<a id="L-0-55" name="L-0-55"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-56" name="L-0-56"></a>
<a id="L-0-57" name="L-0-57"></a>  <span class="k">var</span> <span class="n">_pubRelMap</span> <span class="p">:</span> <span class="n n-Type">Map</span><span class="p">[</span><span class="n n-Type">IdType</span><span class="p">,</span> <span class="n n-Type">ArrayVal</span><span class="p">]</span> 
<a id="L-0-58" name="L-0-58"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-59" name="L-0-59"></a><span class="sd">  A map for the in-flight QoS 2 messages </span>
<a id="L-0-60" name="L-0-60"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-61" name="L-0-61"></a>
<a id="L-0-62" name="L-0-62"></a>  <span class="k">new</span> <span class="nf">create</span><span class="p">(</span><span class="n">router</span> <span class="p">:</span> <span class="n n-Type">Router</span><span class="p">,</span> <span class="n">topic&#39;</span><span class="p">:</span> <span class="nb nb-Type">String</span> <span class="k">val</span><span class="p">)</span> <span class="p">=&gt;</span>
<a id="L-0-63" name="L-0-63"></a>    <span class="n">_qos1Map</span> <span class="o">=</span> <span class="n n-Type">Map</span><span class="p">[</span><span class="n n-Type">IdType</span><span class="p">,</span> <span class="n n-Type">PublishArgs</span> <span class="k">val</span><span class="p">]</span>
<a id="L-0-64" name="L-0-64"></a>    <span class="n">_pending</span> <span class="o">=</span> <span class="nb nb-Type">Array</span><span class="p">[</span><span class="n n-Type">PublishArgs</span> <span class="k">val</span><span class="p">]</span>  
<a id="L-0-65" name="L-0-65"></a>    <span class="n">_qos2Map</span> <span class="o">=</span> <span class="n n-Type">Map</span><span class="p">[</span><span class="n n-Type">IdType</span><span class="p">,</span> <span class="n n-Type">PublishArgs</span> <span class="k">val</span><span class="p">]</span>
<a id="L-0-66" name="L-0-66"></a>    <span class="n">_pubRelMap</span> <span class="o">=</span> <span class="n n-Type">Map</span><span class="p">[</span><span class="n n-Type">IdType</span><span class="p">,</span> <span class="n n-Type">ArrayVal</span><span class="p">]</span>
<a id="L-0-67" name="L-0-67"></a>    <span class="n">_router</span> <span class="o">=</span> <span class="n">router</span>
<a id="L-0-68" name="L-0-68"></a>    <span class="n">_topic</span> <span class="o">=</span> <span class="n">topic&#39;</span>
<a id="L-0-69" name="L-0-69"></a>
<a id="L-0-70" name="L-0-70"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-71" name="L-0-71"></a><span class="k">be</span> <span class="nf">publish</span><span class="p">(</span><span class="n">args</span> <span class="p">:</span> <span class="n n-Type">PublishArgs</span> <span class="k">val</span><span class="p">)</span> <span class="p">=&gt;</span>
<a id="L-0-72" name="L-0-72"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-73" name="L-0-73"></a><span class="sd">  Called once we have a complete set of arguments to send and/or save to the queue.</span>
<a id="L-0-74" name="L-0-74"></a><span class="sd">  NextQosnArgs determines whether we:</span>
<a id="L-0-75" name="L-0-75"></a><span class="sd">  1. continue to publish the current set of args</span>
<a id="L-0-76" name="L-0-76"></a><span class="sd">  2. pull a different set of args of the pending queue and send those instead,</span>
<a id="L-0-77" name="L-0-77"></a><span class="sd">  queuing our current set</span>
<a id="L-0-78" name="L-0-78"></a><span class="sd">  3. queue the current set and wait for a space to open in the in-flight window</span>
<a id="L-0-79" name="L-0-79"></a><span class="sd">  In the case of QoS 0, we have already sent the packet via the publish behaviour</span>
<a id="L-0-80" name="L-0-80"></a><span class="sd">  because there is no id </span>
<a id="L-0-81" name="L-0-81"></a><span class="sd">  &quot;&quot;&quot;</span> 
<a id="L-0-82" name="L-0-82"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">qos</span> <span class="ow">is</span> <span class="n n-Type">Qos2</span><span class="p">)</span> <span class="k">then</span> 
<a id="L-0-83" name="L-0-83"></a>    <span class="n">nextQos2Args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<a id="L-0-84" name="L-0-84"></a>  <span class="k">elseif</span> <span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">qos</span> <span class="ow">is</span> <span class="n n-Type">Qos1</span><span class="p">)</span> <span class="k">then</span>
<a id="L-0-85" name="L-0-85"></a>    <span class="n">nextQos1Args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<a id="L-0-86" name="L-0-86"></a>  <span class="k">end</span>
<a id="L-0-87" name="L-0-87"></a>
<a id="L-0-88" name="L-0-88"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-89" name="L-0-89"></a><span class="k">fun</span> <span class="k">ref</span> <span class="nf">nextQos1Args</span><span class="p">(</span><span class="n">argsOrNone</span> <span class="p">:</span> <span class="p">(</span><span class="n n-Type">PublishArgs</span> <span class="k">val</span> <span class="p">|</span> <span class="nb nb-Type">None</span><span class="p">))</span> <span class="p">=&gt;</span>
<a id="L-0-90" name="L-0-90"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-91" name="L-0-91"></a><span class="sd">  Manages the in-flight window for QoS 1 messages and saves the packet in case we</span>
<a id="L-0-92" name="L-0-92"></a><span class="sd">  don&#39;t get a pubAck</span>
<a id="L-0-93" name="L-0-93"></a>
<a id="L-0-94" name="L-0-94"></a><span class="sd">  If we are passed args we push them onto the back of the pending queue. Then we </span>
<a id="L-0-95" name="L-0-95"></a><span class="sd">  check whether the in-flight window is open. If it is we take the args at the head</span>
<a id="L-0-96" name="L-0-96"></a><span class="sd">  of the queue, send them to router and add the packet to the in-flight map.</span>
<a id="L-0-97" name="L-0-97"></a>
<a id="L-0-98" name="L-0-98"></a><span class="sd">  If we are passed None, we check whether the in-flight window is open. If it is we</span>
<a id="L-0-99" name="L-0-99"></a><span class="sd">  take the args at the head of the queue, if there are any, and send them to router, </span>
<a id="L-0-100" name="L-0-100"></a><span class="sd">  addding the packet to the in-flight map.</span>
<a id="L-0-101" name="L-0-101"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-102" name="L-0-102"></a>
<a id="L-0-103" name="L-0-103"></a>  <span class="k">try</span>
<a id="L-0-104" name="L-0-104"></a>    <span class="n">_pending</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">argsOrNone</span> <span class="ow">as</span> <span class="n n-Type">PublishArgs</span> <span class="k">val</span><span class="p">)</span>  <span class="c1">// if we have args then queue them</span>
<a id="L-0-105" name="L-0-105"></a>  <span class="k">else</span>
<a id="L-0-106" name="L-0-106"></a>    <span class="k">if</span> <span class="p">(</span><span class="n">_pending</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="k">then</span> <span class="k">return</span> <span class="k">end</span>    <span class="c1">// if we have None and the queue is empty then there&#39;s nothing to do</span>
<a id="L-0-107" name="L-0-107"></a>  <span class="k">end</span>
<a id="L-0-108" name="L-0-108"></a>
<a id="L-0-109" name="L-0-109"></a>  <span class="k">if</span> <span class="p">(</span><span class="n">inFlightLimitReached</span><span class="p">())</span> <span class="k">then</span>  <span class="c1">// We can&#39;t send any more packets from the queue so return</span>
<a id="L-0-110" name="L-0-110"></a>    <span class="k">try</span>  <span class="c1">//TODO - Only for debugging. Remove converson and fail silently later. </span>
<a id="L-0-111" name="L-0-111"></a>      <span class="k">var</span> <span class="n">args</span> <span class="o">=</span> <span class="n">argsOrNone</span> <span class="ow">as</span> <span class="n n-Type">PublishArgs</span> <span class="k">val</span>
<a id="L-0-112" name="L-0-112"></a>      <span class="k">if</span> <span class="p">(</span><span class="n">_qos1Map</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="k">then</span> 
<a id="L-0-113" name="L-0-113"></a>        <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="s">&quot;Queued QoS 1 id &quot;</span> <span class="o">+</span> <span class="n">args</span><span class="p">.</span><span class="n">cid</span><span class="p">.</span><span class="n">string</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; In-flight: &quot;</span> <span class="o">+</span> <span class="n">_qos1Map</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">string</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; Queued: &quot;</span> <span class="o">+</span> <span class="n">_pending</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">string</span><span class="p">())</span>
<a id="L-0-114" name="L-0-114"></a>      <span class="k">end</span>
<a id="L-0-115" name="L-0-115"></a>    <span class="k">end</span>  
<a id="L-0-116" name="L-0-116"></a>    <span class="k">return</span>  
<a id="L-0-117" name="L-0-117"></a>  <span class="k">end</span>
<a id="L-0-118" name="L-0-118"></a>
<a id="L-0-119" name="L-0-119"></a>  <span class="k">var</span> <span class="n">nextArgs</span> <span class="p">:</span> <span class="n n-Type">PublishArgs</span> <span class="k">val</span>
<a id="L-0-120" name="L-0-120"></a>  <span class="c1">// next args to send are at the front of the queue. We know the queue isn&#39;t empty here.</span>
<a id="L-0-121" name="L-0-121"></a>  <span class="k">try</span>
<a id="L-0-122" name="L-0-122"></a>    <span class="n">nextArgs</span> <span class="o">=</span> <span class="n">_pending</span><span class="p">.</span><span class="n">shift</span><span class="p">()?</span>
<a id="L-0-123" name="L-0-123"></a>  <span class="k">else</span> 
<a id="L-0-124" name="L-0-124"></a>    <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="s">&quot;</span><span class="err">\</span><span class="s">nProgram error in &quot;</span> <span class="o">+</span> <span class="n">__loc</span><span class="p">.</span><span class="n">file</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span> <span class="o">+</span><span class="n">__loc</span><span class="p">.</span><span class="n">method_name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;</span><span class="err">\</span><span class="s">n&quot;</span><span class="p">)</span>
<a id="L-0-125" name="L-0-125"></a>    <span class="k">return</span>
<a id="L-0-126" name="L-0-126"></a>  <span class="k">end</span>  
<a id="L-0-127" name="L-0-127"></a>  <span class="n">sendToRouter</span><span class="p">(</span><span class="n">nextArgs</span><span class="p">)</span>
<a id="L-0-128" name="L-0-128"></a>  <span class="n">_qos1Map</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">nextArgs</span><span class="p">.</span><span class="n">cid</span><span class="p">,</span> <span class="n">nextArgs</span><span class="p">)</span>
<a id="L-0-129" name="L-0-129"></a>
<a id="L-0-130" name="L-0-130"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-131" name="L-0-131"></a><span class="k">fun</span> <span class="nf">inFlightLimitReached</span><span class="p">()</span> <span class="p">:</span> <span class="nb nb-Type">Bool</span> <span class="p">=&gt;</span>
<a id="L-0-132" name="L-0-132"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-133" name="L-0-133"></a><span class="sd">  Returns true if there are fewer messages in-flight than our in-flight limit</span>
<a id="L-0-134" name="L-0-134"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-135" name="L-0-135"></a>  <span class="ow">not</span> <span class="p">(</span><span class="n">_qos1Map</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">_inFlightWindow</span><span class="p">)</span>
<a id="L-0-136" name="L-0-136"></a>
<a id="L-0-137" name="L-0-137"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-138" name="L-0-138"></a><span class="k">fun</span> <span class="k">ref</span> <span class="nf">nextQos2Args</span><span class="p">(</span><span class="n">argsOrNone</span> <span class="p">:</span> <span class="p">(</span><span class="n n-Type">PublishArgs</span> <span class="k">val</span> <span class="p">|</span> <span class="nb nb-Type">None</span><span class="p">))</span> <span class="p">=&gt;</span>
<a id="L-0-139" name="L-0-139"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-140" name="L-0-140"></a><span class="sd">  For protocol Vsn 3.1.1 there is no in-flight limit for QoS 2 messages. This means </span>
<a id="L-0-141" name="L-0-141"></a><span class="sd">  the all we need to do is save the packet in case we don&#39;t get a pubRec. We&#39;re</span>
<a id="L-0-142" name="L-0-142"></a><span class="sd">  doing it like this though because protocol Vsn 5 has in-flight windows for all QoS.</span>
<a id="L-0-143" name="L-0-143"></a><span class="sd">  Only called from within publisher so must be using Cid</span>
<a id="L-0-144" name="L-0-144"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-145" name="L-0-145"></a>  <span class="k">try</span>
<a id="L-0-146" name="L-0-146"></a>    <span class="k">var</span> <span class="n">args</span> <span class="p">:</span> <span class="n n-Type">PublishArgs</span> <span class="k">val</span> <span class="o">=</span> <span class="n">argsOrNone</span> <span class="ow">as</span> <span class="n n-Type">PublishArgs</span> <span class="k">val</span>
<a id="L-0-147" name="L-0-147"></a>    <span class="n">_qos2Map</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">cid</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
<a id="L-0-148" name="L-0-148"></a>    <span class="n">sendToRouter</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<a id="L-0-149" name="L-0-149"></a>  <span class="k">else</span>
<a id="L-0-150" name="L-0-150"></a>    <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="s">&quot;</span><span class="err">\</span><span class="s">nProgram error in &quot;</span> <span class="o">+</span> <span class="n">__loc</span><span class="p">.</span><span class="n">file</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span> <span class="o">+</span><span class="n">__loc</span><span class="p">.</span><span class="n">method_name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;</span><span class="err">\</span><span class="s">n&quot;</span><span class="p">)</span>
<a id="L-0-151" name="L-0-151"></a>  <span class="k">end</span>
<a id="L-0-152" name="L-0-152"></a>
<a id="L-0-153" name="L-0-153"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-154" name="L-0-154"></a><span class="k">be</span> <span class="nf">onData</span><span class="p">(</span><span class="n">basePacket</span> <span class="p">:</span> <span class="n n-Type">BasePacket</span> <span class="k">val</span><span class="p">)</span> <span class="p">=&gt;</span>
<a id="L-0-155" name="L-0-155"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-156" name="L-0-156"></a><span class="sd">  Called by router via the findPublisherById map [Cid,Published] when it receives</span>
<a id="L-0-157" name="L-0-157"></a><span class="sd">  one of the three publish acknowledge packets (PubAck for QoS1, PubRec or PubComp for Qos2)</span>
<a id="L-0-158" name="L-0-158"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-159" name="L-0-159"></a>  <span class="c1">// No need for a guard because the match statement will catch anything that is invalid</span>
<a id="L-0-160" name="L-0-160"></a>  <span class="k">match</span> <span class="n">basePacket</span><span class="p">.</span><span class="n">controlType</span><span class="p">()</span>
<a id="L-0-161" name="L-0-161"></a>  <span class="p">|</span> <span class="n n-Type">ControlPubAck</span> <span class="p">=&gt;</span> <span class="n">onPubAck</span><span class="p">(</span><span class="n">basePacket</span><span class="p">)</span>
<a id="L-0-162" name="L-0-162"></a>  <span class="p">|</span> <span class="n n-Type">ControlPubRec</span> <span class="p">=&gt;</span> <span class="n">onPubRec</span><span class="p">(</span><span class="n">basePacket</span><span class="p">)</span>
<a id="L-0-163" name="L-0-163"></a>  <span class="p">|</span> <span class="n n-Type">ControlPubComp</span> <span class="p">=&gt;</span> <span class="n">onPubComp</span><span class="p">(</span><span class="n">basePacket</span><span class="p">)</span>
<a id="L-0-164" name="L-0-164"></a>  <span class="k">else</span>
<a id="L-0-165" name="L-0-165"></a>    <span class="n n-Type">Debug</span> <span class="p">(</span><span class="s">&quot;Unexpected &quot;</span> <span class="o">+</span> <span class="n">basePacket</span><span class="p">.</span><span class="n">controlType</span><span class="p">().</span><span class="n">string</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; at &quot;</span> <span class="o">+</span> <span class="n">__loc</span><span class="p">.</span><span class="n">file</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span> <span class="o">+</span><span class="n">__loc</span><span class="p">.</span><span class="n">method_name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; line &quot;</span> <span class="o">+</span>  <span class="n">__loc</span><span class="p">.</span><span class="n">line</span><span class="p">().</span><span class="n">string</span><span class="p">()</span> <span class="p">)</span>
<a id="L-0-166" name="L-0-166"></a>  <span class="k">end</span>    
<a id="L-0-167" name="L-0-167"></a>
<a id="L-0-168" name="L-0-168"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-169" name="L-0-169"></a><span class="k">fun</span> <span class="nf">sendToRouter</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n n-Type">PublishArgs</span> <span class="k">val</span><span class="p">)</span> <span class="p">=&gt;</span>
<a id="L-0-170" name="L-0-170"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-171" name="L-0-171"></a><span class="sd">  Make a publish packet with the passed arguments and send it via the router</span>
<a id="L-0-172" name="L-0-172"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-173" name="L-0-173"></a>  <span class="n">_router</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n n-Type">PublishPacket</span><span class="p">.</span><span class="n">compose</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
<a id="L-0-174" name="L-0-174"></a>
<a id="L-0-175" name="L-0-175"></a>
<a id="L-0-176" name="L-0-176"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-177" name="L-0-177"></a><span class="k">be</span> <span class="nf">onTick</span><span class="p">(</span><span class="n">sec</span> <span class="p">:</span> <span class="nb nb-Type">I64</span><span class="p">)</span> <span class="p">=&gt;</span>
<a id="L-0-178" name="L-0-178"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-179" name="L-0-179"></a><span class="sd">  This is the target for the TickListener trait that is called by the system tick</span>
<a id="L-0-180" name="L-0-180"></a><span class="sd">  tick timer. Each time we get this we scan the in-flight queue for expired messages</span>
<a id="L-0-181" name="L-0-181"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-182" name="L-0-182"></a>  <span class="c1">//Debug.err(_topic.string() + &quot; publisher got system tick &quot; + sec.string()+ &quot; at &quot; + __loc.file() + &quot;:&quot; +__loc.method_name())</span>
<a id="L-0-183" name="L-0-183"></a>
<a id="L-0-184" name="L-0-184"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-185" name="L-0-185"></a><span class="k">fun</span> <span class="k">ref</span> <span class="nf">onPubAck</span><span class="p">(</span><span class="n">basePacket</span> <span class="p">:</span> <span class="n n-Type">BasePacket</span> <span class="k">val</span><span class="p">)</span> <span class="p">=&gt;</span>
<a id="L-0-186" name="L-0-186"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-187" name="L-0-187"></a><span class="sd">  The single ack packet for QoS 1 messages. Once we get this we can discard the </span>
<a id="L-0-188" name="L-0-188"></a><span class="sd">  publish message. The onPubAck can only be called in response to a routed PubAck</span>
<a id="L-0-189" name="L-0-189"></a><span class="sd">  generated by the Broker in response to a Publish with a Cid. So id is Cid</span>
<a id="L-0-190" name="L-0-190"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-191" name="L-0-191"></a>  <span class="k">var</span> <span class="n">pubAckPacket</span> <span class="p">:</span> <span class="n n-Type">PubAckPacket</span> <span class="k">val</span> <span class="o">=</span> <span class="n n-Type">PubAckPacket</span><span class="p">.</span><span class="n">createFromPacket</span><span class="p">(</span><span class="n">basePacket</span><span class="p">)</span>
<a id="L-0-192" name="L-0-192"></a>  <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">pubAckPacket</span><span class="p">.</span><span class="n">isValid</span><span class="p">())</span> <span class="k">then</span> 
<a id="L-0-193" name="L-0-193"></a>    <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="s">&quot;Got invalid PubAck packet - id = &quot;</span> <span class="o">+</span> <span class="n">pubAckPacket</span><span class="p">.</span><span class="n">id</span><span class="p">().</span><span class="n">string</span><span class="p">())</span>  
<a id="L-0-194" name="L-0-194"></a>    <span class="k">return</span>
<a id="L-0-195" name="L-0-195"></a>  <span class="k">end</span>
<a id="L-0-196" name="L-0-196"></a>
<a id="L-0-197" name="L-0-197"></a>  <span class="k">try</span> 
<a id="L-0-198" name="L-0-198"></a>    <span class="n">_qos1Map</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pubAckPacket</span><span class="p">.</span><span class="n">id</span><span class="p">())?</span>
<a id="L-0-199" name="L-0-199"></a>  <span class="k">else</span>
<a id="L-0-200" name="L-0-200"></a>    <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="s">&quot;Couldn&#39;t find QoS 1 publication with id &quot;</span> <span class="o">+</span> <span class="n">pubAckPacket</span><span class="p">.</span><span class="n">id</span><span class="p">().</span><span class="n">string</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;  in &quot;</span> <span class="o">+</span> <span class="n">__loc</span><span class="p">.</span><span class="n">file</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span> <span class="o">+</span><span class="n">__loc</span><span class="p">.</span><span class="n">method_name</span><span class="p">())</span>
<a id="L-0-201" name="L-0-201"></a>  <span class="k">end</span>  
<a id="L-0-202" name="L-0-202"></a>  <span class="n">publishComplete</span><span class="p">(</span><span class="n">pubAckPacket</span><span class="p">.</span><span class="n">id</span><span class="p">())</span>
<a id="L-0-203" name="L-0-203"></a>
<a id="L-0-204" name="L-0-204"></a>  <span class="c1">// Now we need to check the pending queue to see if any messages were</span>
<a id="L-0-205" name="L-0-205"></a>  <span class="c1">// queued while the in-flight window was closed</span>
<a id="L-0-206" name="L-0-206"></a>  <span class="n">nextQos1Args</span><span class="p">(</span><span class="nb nb-Type">None</span><span class="p">)</span>
<a id="L-0-207" name="L-0-207"></a>
<a id="L-0-208" name="L-0-208"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-209" name="L-0-209"></a><span class="k">fun</span> <span class="k">ref</span> <span class="nf">onPubRec</span><span class="p">(</span><span class="n">basePacket</span><span class="p">:</span> <span class="n n-Type">BasePacket</span> <span class="k">val</span><span class="p">)</span> <span class="p">=&gt;</span>
<a id="L-0-210" name="L-0-210"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-211" name="L-0-211"></a><span class="sd">  The first of the two acknowledgements for a QoS 2 transaction. Once we get a</span>
<a id="L-0-212" name="L-0-212"></a><span class="sd">  PubRec we can discard the publish message then send (and store) a PubRel</span>
<a id="L-0-213" name="L-0-213"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-214" name="L-0-214"></a>  <span class="k">var</span> <span class="n">pubRecPacket</span> <span class="p">:</span> <span class="n n-Type">PubRecPacket</span> <span class="k">val</span> <span class="o">=</span> <span class="n n-Type">PubRecPacket</span><span class="p">.</span><span class="n">createFromPacket</span><span class="p">(</span><span class="n">basePacket</span><span class="p">)</span>
<a id="L-0-215" name="L-0-215"></a>  <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">pubRecPacket</span><span class="p">.</span><span class="n">isValid</span><span class="p">())</span> <span class="k">then</span> 
<a id="L-0-216" name="L-0-216"></a>    <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="s">&quot;Got invalid PubRec packet - id = &quot;</span> <span class="o">+</span> <span class="n">pubRecPacket</span><span class="p">.</span><span class="n">id</span><span class="p">().</span><span class="n">string</span><span class="p">())</span>  
<a id="L-0-217" name="L-0-217"></a>    <span class="k">return</span>
<a id="L-0-218" name="L-0-218"></a>  <span class="k">end</span>
<a id="L-0-219" name="L-0-219"></a>  <span class="c1">// Our QoS 2 publication has been received so we can delete the packet from </span>
<a id="L-0-220" name="L-0-220"></a>  <span class="c1">// the in-flight map and send a PubRel packet to the Broker to acknowledge</span>
<a id="L-0-221" name="L-0-221"></a>  <span class="c1">// receipt of the PubRec</span>
<a id="L-0-222" name="L-0-222"></a>  <span class="k">try</span>
<a id="L-0-223" name="L-0-223"></a>    <span class="n">_qos2Map</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pubRecPacket</span><span class="p">.</span><span class="n">id</span><span class="p">())?</span>
<a id="L-0-224" name="L-0-224"></a>  <span class="k">else</span>
<a id="L-0-225" name="L-0-225"></a>    <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="s">&quot;Couldn&#39;t remove QoS 2 message id &quot;</span> <span class="o">+</span> <span class="n">pubRecPacket</span><span class="p">.</span><span class="n">id</span><span class="p">().</span><span class="n">string</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;  at &quot;</span> <span class="o">+</span> <span class="n">__loc</span><span class="p">.</span><span class="n">file</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span> <span class="o">+</span><span class="n">__loc</span><span class="p">.</span><span class="n">method_name</span><span class="p">())</span>
<a id="L-0-226" name="L-0-226"></a>  <span class="k">end</span>
<a id="L-0-227" name="L-0-227"></a>  <span class="n">doPubRel</span><span class="p">(</span><span class="n">pubRecPacket</span><span class="p">.</span><span class="n">id</span><span class="p">())</span>
<a id="L-0-228" name="L-0-228"></a>
<a id="L-0-229" name="L-0-229"></a>
<a id="L-0-230" name="L-0-230"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-231" name="L-0-231"></a><span class="k">fun</span> <span class="k">ref</span> <span class="nf">doPubRel</span><span class="p">(</span><span class="n">cid</span> <span class="p">:</span> <span class="n n-Type">IdType</span><span class="p">)</span> <span class="p">=&gt;</span>
<a id="L-0-232" name="L-0-232"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-233" name="L-0-233"></a><span class="sd">  Send a PubRelPacket with the passed Cid to the router.</span>
<a id="L-0-234" name="L-0-234"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-235" name="L-0-235"></a>  <span class="k">var</span> <span class="n">data</span>  <span class="o">=</span> <span class="n n-Type">PubRelPacket</span><span class="p">.</span><span class="n">compose</span><span class="p">(</span><span class="n">cid</span><span class="p">)</span>
<a id="L-0-236" name="L-0-236"></a>  <span class="c1">//Debug.err(&quot;Inserted id &quot; + id.string() + &quot; in _pubRel at &quot; + __loc.file() + &quot;:&quot; +__loc.method_name() + &quot; line &quot; +  __loc.line().string() )</span>
<a id="L-0-237" name="L-0-237"></a>
<a id="L-0-238" name="L-0-238"></a>  <span class="n">_pubRelMap</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">cid</span><span class="p">,</span><span class="n">data</span><span class="p">)</span>
<a id="L-0-239" name="L-0-239"></a>  <span class="n">_router</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="L-0-240" name="L-0-240"></a>
<a id="L-0-241" name="L-0-241"></a>
<a id="L-0-242" name="L-0-242"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-243" name="L-0-243"></a><span class="k">fun</span> <span class="k">ref</span> <span class="nf">onPubComp</span><span class="p">(</span><span class="n">basePacket</span><span class="p">:</span> <span class="n n-Type">BasePacket</span> <span class="k">val</span><span class="p">)</span> <span class="p">=&gt;</span>
<a id="L-0-244" name="L-0-244"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-245" name="L-0-245"></a><span class="sd">  The second of the two acknowledgement messages of the QoS 2 transaction. Once we</span>
<a id="L-0-246" name="L-0-246"></a><span class="sd">  get a PubComp we can delete the saved PubRel message and check-in the id. Always</span>
<a id="L-0-247" name="L-0-247"></a><span class="sd">  called with a Cid</span>
<a id="L-0-248" name="L-0-248"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-249" name="L-0-249"></a>  <span class="k">var</span> <span class="n">pubCompPacket</span> <span class="p">:</span> <span class="n n-Type">PubCompPacket</span> <span class="k">val</span> <span class="o">=</span> <span class="n n-Type">PubCompPacket</span><span class="p">.</span><span class="n">createFromPacket</span><span class="p">(</span><span class="n">basePacket</span><span class="p">)</span>
<a id="L-0-250" name="L-0-250"></a>  <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">pubCompPacket</span><span class="p">.</span><span class="n">isValid</span><span class="p">())</span> <span class="k">then</span> 
<a id="L-0-251" name="L-0-251"></a>    <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="s">&quot;Got invalid PubComp packet - cid = &quot;</span> <span class="o">+</span> <span class="n">pubCompPacket</span><span class="p">.</span><span class="n">id</span><span class="p">().</span><span class="n">string</span><span class="p">())</span>  
<a id="L-0-252" name="L-0-252"></a>    <span class="c1">// TODO - Add some cleanup here</span>
<a id="L-0-253" name="L-0-253"></a>    <span class="k">return</span>
<a id="L-0-254" name="L-0-254"></a>  <span class="k">end</span>
<a id="L-0-255" name="L-0-255"></a>
<a id="L-0-256" name="L-0-256"></a>  <span class="k">try</span>
<a id="L-0-257" name="L-0-257"></a>    <span class="n">_pubRelMap</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pubCompPacket</span><span class="p">.</span><span class="n">id</span><span class="p">())?</span>
<a id="L-0-258" name="L-0-258"></a>    <span class="c1">//Debug.err(&quot;Removed id &quot; + pubCompPacket.id().string() + &quot; in _pubRel at &quot; + __loc.file() + &quot;:&quot; +__loc.method_name() + &quot; line &quot; +  __loc.line().string() )</span>
<a id="L-0-259" name="L-0-259"></a>  <span class="k">else</span>
<a id="L-0-260" name="L-0-260"></a>    <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="s">&quot;Unable to remove client id &quot;</span> <span class="o">+</span> <span class="n">pubCompPacket</span><span class="p">.</span><span class="n">id</span><span class="p">().</span><span class="n">string</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; at &quot;</span> <span class="o">+</span> <span class="n">__loc</span><span class="p">.</span><span class="n">file</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span> <span class="o">+</span><span class="n">__loc</span><span class="p">.</span><span class="n">method_name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; line &quot;</span> <span class="o">+</span>  <span class="n">__loc</span><span class="p">.</span><span class="n">line</span><span class="p">().</span><span class="n">string</span><span class="p">()</span> <span class="p">)</span>
<a id="L-0-261" name="L-0-261"></a>  <span class="k">end</span>
<a id="L-0-262" name="L-0-262"></a>  <span class="n">publishComplete</span><span class="p">(</span><span class="n">pubCompPacket</span><span class="p">.</span><span class="n">id</span><span class="p">())</span>
<a id="L-0-263" name="L-0-263"></a>
<a id="L-0-264" name="L-0-264"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-265" name="L-0-265"></a><span class="k">fun</span> <span class="k">ref</span> <span class="nf">publishComplete</span><span class="p">(</span><span class="n">cid</span> <span class="p">:</span> <span class="n n-Type">IdType</span><span class="p">)</span> <span class="p">=&gt;</span>
<a id="L-0-266" name="L-0-266"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-267" name="L-0-267"></a><span class="sd">  Called when we have received our last publish acknowledgement. We can now</span>
<a id="L-0-268" name="L-0-268"></a><span class="sd">  remove the pubRel message from the map and tell the router to do it&#39;s necessary</span>
<a id="L-0-269" name="L-0-269"></a><span class="sd">  cleanup before it releases the id. </span>
<a id="L-0-270" name="L-0-270"></a><span class="sd">  This function should be preceded by deletion of the publish packet in the case</span>
<a id="L-0-271" name="L-0-271"></a><span class="sd">  of QoS 1 publication and by deletion of the PubRel packet in the case of QoS 2.</span>
<a id="L-0-272" name="L-0-272"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-273" name="L-0-273"></a>  <span class="n">_router</span><span class="p">.</span><span class="n">onPublishComplete</span><span class="p">(</span><span class="n">cid</span><span class="p">)</span>
<a id="L-0-274" name="L-0-274"></a>
<a id="L-0-275" name="L-0-275"></a><span class="cm">/********************************************************************************/</span>
<a id="L-0-276" name="L-0-276"></a><span class="k">be</span> <span class="nf">onDuckAndCover</span><span class="p">()</span> <span class="p">=&gt;</span> 
<a id="L-0-277" name="L-0-277"></a>  <span class="sd">&quot;&quot;&quot;</span>
<a id="L-0-278" name="L-0-278"></a><span class="sd">  We need to save state because the broker is disconnecting or something has gone awry.   </span>
<a id="L-0-279" name="L-0-279"></a><span class="sd">  &quot;&quot;&quot;</span>
<a id="L-0-280" name="L-0-280"></a>  <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="n">_qos1Map</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">string</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; unreleased packets in &quot;</span> <span class="o">+</span> <span class="n">_topic</span> <span class="o">+</span> <span class="s">&quot; _qos1Map&quot;</span><span class="p">)</span>
<a id="L-0-281" name="L-0-281"></a>  <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="n">_pending</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">string</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; unreleased packets in &quot;</span> <span class="o">+</span> <span class="n">_topic</span> <span class="o">+</span> <span class="s">&quot; _pending&quot;</span><span class="p">)</span>
<a id="L-0-282" name="L-0-282"></a>  <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="n">_qos2Map</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">string</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; unreleased packets in &quot;</span> <span class="o">+</span> <span class="n">_topic</span> <span class="o">+</span> <span class="s">&quot; _qos2Map&quot;</span><span class="p">)</span>
<a id="L-0-283" name="L-0-283"></a>  <span class="n n-Type">Debug</span><span class="p">.</span><span class="n">err</span><span class="p">(</span><span class="n">_pubRelMap</span><span class="p">.</span><span class="n">size</span><span class="p">().</span><span class="n">string</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; unreleased packets in &quot;</span> <span class="o">+</span> <span class="n">_topic</span> <span class="o">+</span> <span class="s">&quot; _pubRelMap&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>



  



                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.top"], "search": "../../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.78eede0e.min.js"></script>
      
    
  </body>
</html>